<!DOCTYPE html>

<html>
<head>
<style>
        img {
            width: 300px;
        }

        .btn-group {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 39px auto;
        }
        .btn-group-2{
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 38.5px auto;
            gap: 10px;
        }

        .btn-passType {
            padding: 20px 60px;
            margin-left: 100px;
            margin-right: 100px;
            border: 2px solid;
            border-radius: 5px;
            background: white;
            font-size: 20px;
        }

        .btn-circle {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: 1px solid;
            background: white;
            font-size: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 22px;
        }

        .quantity {
            font-size: 30px;
            min-width: 40px;
            text-align: center;
            line-height: 40px;
        }

        .btn-english {
            font-size: 20px;
            margin-left: 200px;
            margin-right: 200px;
            padding: 20px 40px;
            background-color:grey;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        .link-button {
            display: inline-block;
            background-color: white;
            color: black;
            text-decoration: none;
            border: 2px solid;
            border-color: black;
            cursor: pointer;
            font-size: 30px;
            position: relative;
            width: 400px;
            text-align: center;
            padding-top: 30px;
            padding-bottom: 30px;
            margin-left: 10px;
            margin-right: 10px;
            margin-bottom: 10px;
        }   
        .label-text {
            font-size: 30px;
            min-width: 300px;
        }

    </style>
</head>
<body>
<div style="text-align: center;">
<img ,="" src="coc-logo.svg" style="padding-bottom: 10px;"/>
<h1 style="padding-bottom: 0px;"> Select User Group</h1>
</div>
<div class="btn-group-2 row-1">
  <div class="label-text">Adult (age 18-65)</div>
  <button class="btn-circle minus">-</button>
  <span class="quantity">0</span>
  <button class="btn-circle plus">+</button>
</div>

<div class="btn-group-2 row-2">
  <div class="label-text">Senior (age 65+)</div>
  <button class="btn-circle minus">-</button>
  <span class="quantity">0</span>
  <button class="btn-circle plus">+</button>
</div>

<div class="btn-group-2 row-3">
  <div class="label-text">Student (with ID)</div>
  <button class="btn-circle minus">-</button>
  <span class="quantity">0</span>
  <button class="btn-circle plus">+</button>
</div>

<div class="btn-group-2 row-4">
  <div class="label-text">Minor (age 0-17)</div>
  <button class="btn-circle minus">-</button>
  <span class="quantity">0</span>
  <button class="btn-circle plus">+</button>
</div>

<h1 id="totalAmount" style="text-align: center;">Total Amount: $0.00</h1>
<div class="btn-group">
<a class="link-button" href="Pass_Cart.html">Add to Cart \_/</a>
<a class="link-button" href="#" onclick="handleCheckout()">Pay -&gt;</a>

</div>
<p style="text-align: center; margin-top: -8px; margin-bottom: 65px;">________________________________________________________________________________________________________________</p>
<div style="margin-top: -3px;" class="btn-group">
<a class="link-button" href="Select_Pass_Type.html">&lt;- Back</a>
<a class="link-button" href="PressToBegin.html">Cancel [X]</a>
<button class="link-button" onclick="openGuide()" style="width: 60px; font-size: 30px;">?</button>
</div>
<!--Interaction function: change the number of passes when user click '+' and '-', generated by ChatGPT-->
<script>
    function updateTotalAmountLabel() {
      let total = 0;
      document.querySelectorAll('.quantity').forEach(el => {
        total += parseInt(el.textContent);
      });
  
      const label = document.getElementById('totalAmount');
      label.textContent = total > 0 
        ? 'Total Amount: $X.XX' 
        : 'Total Amount: $0.00';
    }
  
    document.querySelectorAll('.btn-group-2').forEach(group => {
      const quantityElement = group.querySelector('.quantity');
      let quantity = parseInt(quantityElement.textContent);
  
      const minusButton = group.querySelector('.minus');
      const plusButton = group.querySelector('.plus');
  
      minusButton.addEventListener('click', () => {
        if (quantity > 0) {
          quantity--;
          quantityElement.textContent = quantity;
          updateTotalAmountLabel();
        }
      });
  
      plusButton.addEventListener('click', () => {
        quantity++;
        quantityElement.textContent = quantity;
        updateTotalAmountLabel();
      });
    });
  
    // Run once on load
    updateTotalAmountLabel();
  </script>
  
  
  
<script>
    function openGuide() {
        document.getElementById('guidePopup').style.display = 'block';
    }
    function closeGuide() {
        document.getElementById('guidePopup').style.display = 'none';
    }
    </script>
<script>

</script><div id="guidePopup" style="display:none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 80vw; max-height: 80vh; overflow-y: auto; padding: 30px; background: white; border: 2px solid black; z-index: 1000; font-size: 18px; line-height: 1.5; text-align: left;">
<h2>Bus Ticketing Kiosk: Quick Guide</h2>
<p>Welcome! This kiosk helps you easily purchase bus tickets, reload transit cards, or check schedules. Whether you're commuting daily or visiting Calgary for the first time, here’s how to navigate the system.</p>
<h3>How to Use the Kiosk</h3>
<ol>
<li><strong>Press “Start” on the welcome screen</strong><br/>Choose what you’d like to do: Buy Tickets or Passes, Reload a Transit Card, or View the Bus Schedule or a Map of your Location.</li>
<li><strong>Select Ticket or Pass Type</strong><br/>Choose from single-use, round-trip, monthly, or yearly passes.</li>
<li><strong>Choose Your User Group</strong><br/>Select from: Adult (18–64), Senior (65+), Student (with ID), Minor (under 18).</li>
<li><strong>Set Quantities</strong><br/>Use the + and – buttons to select how many tickets/passes you want.</li>
<li><strong>Review Cart</strong><br/>See what you’ve added and check your total before payment.</li>
<li><strong>Payment</strong><br/>Choose cash or credit/debit. Follow on-screen prompts to insert or tap your card or money.</li>
<li><strong>Collect Ticket(s)</strong><br/>Pick up your ticket(s) and receipt from the tray below.</li>
<li><strong>Done?</strong><br/>Press “Cancel” to return to the start, or wait — the kiosk will auto-reset after inactivity.</li>
</ol>
<h3>Helpful Tips</h3>
<ul>
<li>Tourists: You can switch the kiosk to your preferred language on the first screen.</li>
<li>Students: Enter your student ID to unlock discounts.</li>
<li>Minors: You can reload a prepaid transit card with help from an adult.</li>
<li>Groups: You can buy multiple tickets in one session — no need to start over for each person.</li>
</ul>
<h3>Common Questions</h3>
<ul>
<li><strong>Can I cancel?</strong> Yes. Tap “Cancel” at any time to go back to the home screen.</li>
<li><strong>Can I change or remove tickets?</strong> Yes. You can update or remove items in your cart before checkout.</li>
<li><strong>What if I leave without finishing?</strong> The kiosk resets automatically after a few minutes of no activity.</li>
</ul>
<button onclick="closeGuide()" style="margin-top: 20px; display: block;">Close</button></div><script>

</script>
    <!--Interaction function: change the number of passes when user click '+' and '-', generated by Deepseek-->
    <script>
        document.querySelectorAll('.btn-circle').forEach(group => {
            let quantity = 0;
            const quantityElement = group.querySelector('.quantity');
     
            group.querySelector('.minus').addEventListener('click', () => {
                if(quantity > 0) {
                    quantity--;
                    quantityElement.textContent = quantity;
                }
            });
     
            group.querySelector('.plus').addEventListener('click', () => {
                quantity++;
                quantityElement.textContent = quantity;
            });
        });
            
    </script>
        <!--Interaction function: require student verification, generated by chatGPT-->
    <script>
      function handleCheckout() {
        const studentGroup = document.querySelector('.row-3 .quantity');
        const studentCount = parseInt(studentGroup.textContent);

        if (studentCount > 0) {
          // Flag verification needed
          localStorage.setItem('requiresStudentVerification', 'true');
          window.location.href = "Student_Verification.html";
        } else {
          // Go straight to checkout
          window.location.href = "Confirm_Ticket_Payment.html";
        }
      }
    </script>

</body>
</html>