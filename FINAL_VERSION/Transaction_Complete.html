<!DOCTYPE html>
<html lang="en">
<head>
  <title>Transaction Complete</title>
  <style>
/* (OpenAI, 2025). The syntax and structure of the code below was AI generated; many modifications of the positioning, size and colour were made by our group*/
    body {
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f9f9f9;
      text-align: center;
    }

    .container {
      max-width: 600px;
      margin: auto;
    }

    img.logo {
      width: 280px;
    }

    h1 {
      font-size: 36px;

    }

    h2 {
      font-size: 22px;
      margin-bottom: 40px;
      color: #333;
    }

    .link-button {
      display: block;
      background-color: white;
      color: #000;
      text-decoration: none;
      border: 2px solid black;
      font-size: 24px;
      padding: 20px;
      margin: 15px auto;
      width: 100%;
      max-width: 350px;
      border-radius: 8px;
      transition: all 0.2s ease-in-out;
    }

    .link-button:hover {
      background-color: #eee;
    }
   /* (OpenAI, 2025). End of citation*/

  </style>
</head>
<body>

  <!-- (OpenAI, 2025). The syntax and structure of the code below was AI generated. We decided on the calgary logo, headers, button names and where the buttons link to. -->
  <div class="container">
    <img src="coc-logo.svg" alt="Calgary Logo" class="logo" />

    <h1>Transaction Complete!</h1>
    <h2><strong>Please retrieve your tickets below.</strong></h2>

    <a class="link-button" href="Bus_Schedule_Again.html">Bus Schedule</a>
    <a class="link-button" href="Bus_Map_Again.html">Map of Bus Routes</a>

  </div>
  <div style="margin-top: 40px; width: 100%; text-align: center;">
    <h2 style="font-size: 28px;">Receipt:</h2>
    <p id="receipt-type" style="font-size: 22px; font-weight: bold;">Ticket/Pass Type: </p>
  
    <div style=" font-size: 22px;">
      <p><strong>Adult:</strong> <span id="receipt-adult">0</span></p>
      <p><strong>Senior:</strong> <span id="receipt-senior">0</span></p>
      <p><strong>Student:</strong> <span id="receipt-student">0</span></p>
      <p><strong>Minor:</strong> <span id="receipt-minor">0</span></p>
      <p><strong>Total Paid:</strong> <span id="receipt-total">0.00</span></p>
    </div>
  
    <p style="font-size: 20px; margin-top: 20px;">
      Please collect your tickets or passes and receipt from the dispenser below.
    </p>
  
    <a id="cancel-btn" href="PressToBegin.html" class="link-button" style="margin-top: 30px; width: 300px;">Done</a>
  </div>

  <!-- (OpenAI, 2025). End of citation -->


  <!-- (OpenAI, 2025). The script below -->
  <script>
    const purchaseType = sessionStorage.getItem('purchaseType'); 
    const totalTicketAmount = sessionStorage.getItem('totalAmount') || "0.00"; 
    const ticketType = sessionStorage.getItem('ticketType'); 
    const passType = sessionStorage.getItem('passType'); 
    const totalPassAmount = sessionStorage.getItem('totalPassAmount') || "0.00";
    const ticketCounts = JSON.parse(sessionStorage.getItem('ticketCounts'));
    const passCounts = JSON.parse(sessionStorage.getItem('passCounts'));
    const userGroupMap = {
    "row-1": "Adult",
    "row-2": "Senior",
    "row-3": "Student",
    "row-4": "Minor"
    };
    

    if (purchaseType === 'ticket') {
        document.getElementById("receipt-type").textContent = `Ticket Type: ${ticketType}`;

        for (const row in ticketCounts) {
            const userGroup = userGroupMap[row];
            console.log(userGroup)
            if (userGroup) {
            const elementId = `receipt-${userGroup.toLowerCase()}`; 
            console.log(elementId)
            document.getElementById(elementId).textContent = ticketCounts[row] || 0;
            }
        }
        document.getElementById("receipt-total").textContent = `$${parseFloat(totalTicketAmount).toFixed(2)}`;
    } else if (purchaseType === 'pass') {
 
        document.getElementById("receipt-type").textContent = `Pass Type: ${passType}`;


        for (const row in passCounts) {
            const userGroup = userGroupMap[row];
            if (userGroup) {
            const elementId = `receipt-${userGroup.toLowerCase()}`; 
            document.getElementById(elementId).textContent = passCounts[row] || 0;
            }
        }
        document.getElementById("receipt-total").textContent = `${parseFloat(totalPassAmount).toFixed(2)}`;
    }
  </script>
  <!-- (OpenAI, 2025). End of citation -->
</body>
</html>
